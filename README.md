# pioneer test exercise

# Мини приложение на spring boot 3

реализованные энпоинты доступны по ссылке 
http://localhost:8080/swagger-ui/index.html
скачать open-api контракт можно по ссылке http://localhost:8080/v3/api-docs

БД postgreSQL
Cache Redis

Для запуска локально требуется установленный redis на пк
Для запуска в docker еобходимо установить docker

# Настройки подключения:

Host: localhost \
Port: 5432 \
Database: pioneer \
Username: postgres \
Password: root

запустить можно командой из корня проекта\
docker-compose up -d --build

поднимется 3 пода:
app, redis, postgres 

для корректного обновления баланса использованы пессимистические 
блокировки записей в бд с ретраями
в случае schedule по одной, при трансфере 2х записей

добавлено немного логирования для упрощения отладки с DEBUG и значимых изменений с INFO 
В тестах (хоть их и немоного) имеются как Unit, так и интеграционные для слоя контроллеров (конкретно в данном случае было решено сделать с полным контекстом ввиду малого покрытия для отладки), сервисов и уровня данных

база заполнена 5 тестовыми юзерами с email и паролями: \
email{1-5}.gmail password{1-5} \
у кого-то 2 почты у кого-то 2 телефона

валидация настроена как на эндпоинтах, так и в entity и БД

для тестирования ендпоинтов сперва следует пройти на \
POST http://localhost:8080/api/auth/login \
с валидными параметрами в body где login это email или телефон \
{ "login" : "", "password" : "" }

в теле ответа придет токен, на остальные эндпоинты при запросах нужно будет явно указывать в headers \
Content-Type application/json \
Authorization Bearer + пробел + токен 

изменять пользователь может только свои данные

спасибо за разминку